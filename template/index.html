<!-- <p>osfopasn apsdna sdpasodpoas</p>
<button > dpoasda</button>
<p>{{items}}</p> -->
<div class="row">
    <!-- <div class="col-1  "></div> -->
    <span id="yolo" onclick="all('{{items}}')"></span>
    <div class="col-8 row  px-0 mr-2">
        {{#each items}}
        <!-- <p>{{price}}</p>
            <p>{{quantity}}</p> -->
            <div class="card my-2" style="width: 24%; height: 300px; margin-left: 0.5%;  margin-right: 0.5%; border-radius: 8px; box-shadow: 0px 8px 8px -6px  #444;">
                <img class="card-img-top w-100  " src="{{image}}"  style="height:200px; border-top-left-radius: 8px; border-top-right-radius: 8px; " alt="Card image cap">
                <div class="card-body py-2">
                    <div class="row text-center">
                        <h6 class="float-left col-6 text-left">Item {{item_no}}</h6>
                        <p class="text-info float-right pull-right text-right col-6" id="price{{item_no}}"> <i class="fa fa-inr" ></i>  {{price}}</p>
                    </div>
                    <div class="row" style="line-height: 10px;">
                        <!-- <p class="col-6 text-left">Qty: {{quantity}}</p> -->
                        <div class="col-8 row  p-0 m-0 py-auto">
                            <label for="qty" class="col-4 p-0 my-auto  ">Qty: </label>
                            <input type="number" name="qty" class="col-8  qtyInc " min="0" value="{{quantity}}"  onclick="x('{{item_no}}')" id="quantit{{item_no}}">
                    </div>
                        <div class="col-4  float-right text-right   p-0">
                            <form action="/item/item/delete/{{_id}}" method="get" class=" w-100   text-right">
                                <button class="float-right btn btn-outline mr-0" type="submit"><i class="fa fa-trash float-right text-danger"></i></button>
                            </form>
                        </div>
                    </div>
                </div> 
            </div>
        {{/each}}
        <div class="card my-2" style="width: 24%; height: 300px; margin-left: 0.5%;  margin-right: 0.5%; border-radius: 8px; box-shadow: 0px 8px 8px -6px  #444;">
            <!-- <img class="card-img-top w-100" src="{{image}}"  style="height:200px; border-top-left-radius: 8px; border-top-right-radius: 8px; " alt="Card image cap"> -->
            <!-- <div class="card-body px-auto   py-auto"> -->
                <!-- <div class="row text-center">
                    <h6 class="float-left col-6 text-left">Item {{item_no}}</h6>
                    <p class="text-info float-right pull-right text-right col-6"><i class="fa fa-inr"></i>   {{price}}</p>
                </div>
                <div class="row" style="line-height: 10px;">
                    <p class="col-6 text-left">Qty: {{quantity}}</p>
                    <div class="col-4"></div><i class="fa fa-trash float-right text-danger"></i>
                </div> -->
                
            <!-- </div>  -->
            <a href="" class="my-auto mx-auto"><i class="fa fa-plus fa-2x  text-secondary"></i></a>
        </div>
    </div>
    <div class="col-4">
        <div class="container card d-flex flex-column rounded p-3 pb-0 ">
        <div><h3>ITEMS:</h3></div>
        <hr>   
        {{#each items}}
            <div class="d-flex flex-row" id="blk-item{{item_no}}">
                <div class="col-6 text-left" style="line-height: 8px;">
                    <h5>Item {{item_no}}</h5>
                    <p class="px-2 text-secondary" id="blk-qty{{item_no}}">Qty: {{quantity}}</p>
                </div>
                <div class="text-right col-6   pr-2 py-auto">
                    <p class=" text-primary my-auto prices"  id="blk-pr{{item_no}}"><i class="fa fa-inr"></i>{{price}}</p>
                </div>
            </div>
        {{/each}}
        
        <hr>
        <div class="d-flex flex-row m-0  mb-0 p-0" style="margin-bottom: 0px;">
            <p class="col-6  my-auto">TOTAL</p>
            <p class="col-6 text-right my-auto text-primary" id="total"><i class="fa fa-inr"></i> total</p>
        </div>
    </div>
    </div>
</div>

        <!-- 
            {{#cards items}}
            <p></p>
            <p>{{price}}</p>
            {{/cards}}
            
            <div class="container ">
                <div class="row">
                    <div class="card rounded" style="width: 18rem;">
                        <img class="card-img-top" src="https://placebear.com/100/200" width="100px" height="150px" alt="Card image cap">
                        <div class="card-body">
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <div class="row text-center">
                                <h6 class="float-left col-6 text-left">Item {{i}}</h6>
                                <p class="text-info float-right pull-right text-right col-6">{{cost}}</p>
                            </div>
                            <div class="row">
                                <p class="col-6 text-left">Qty: {{qty}}</p>
                                <div class="col-4"></div><i class="fa fa-trash float-right"></i>
                            </div>
                        </div> 
                    </div>
                    <div class="card rounded" style="width: 18rem;">
                        <img class="card-img-top" src="https://placebear.com/100/200" width="100px;" height="150px;" alt="Card image cap">
                        <div class="card-body">
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <div class="row text-center">
                                <h6 class="float-left col-6 text-left">Item {{i}}</h6>
                                <p class="text-info float-right pull-right text-right col-6">{{cost}}</p>
                            </div>
                            <div class="row">
                                <p class="col-6 text-left">Qty: {{qty}}</p>
                                <div class="col-4"></div><i class="fa fa-trash float-right"></i>
                            </div>
                        </div> 
                    </div>
                </div>
            </div> -->

        <script>
           $(document).ready(function( ){
                $("#yolo").click();
                calcTotal();
           });

           function calcTotal(){
            var p=$(".prices");
                let tot=0;
                for (var i=0;i<p.length;i++){
                    // alert("Adding Item"+(i+1)+" with text="+p[i].textContent);
                    tot+=parseInt(p[i].textContent);
                }
                // alert("Total Calc= "+tot);
                $("#total").html('<i class="fa fa-inr"></i>'+String(tot));
           }
           
            function all(items){
                alert(JSON.parse(items));
                alert(JSON.stringify(items));
            }

            function x(id){

                var qty=$("#quantit"+String(id)).val();
                // alert(qty);
                var qty=parseInt(qty);
                // alert("Quantity="+qty);

                var pr=$("#price"+String(id)).text().trim();
                var pr=parseInt(pr);
                // alert("Price="+pr);

                var temp=$("#blk-item"+String(id));
                let ids="#blk-item"+String(id);
                let selecqty="#blk-item"+String(id)+">div>#blk-qty"+String(id);
                // alert($(selecqty).text);
                $(selecqty).text("Qty: "+qty);
                let selecpr="#blk-pr"+String(id);
                // alert(selecpr);
                $(selecpr).html('<i class="fa fa-inr"></i>'+String(pr*qty));
                calcTotal();
                // alert("temp="+JSON.stringify(temp));
                // y=temp.children("div")[0];
                // alert(y.children().length);

                // alert("id="+id);
                // alert(JSON.parse(id));
                // alert(Object.keys(id));
            }
            // $("#qtyInc").click(function(){
            //     alert($(this).attr("id"));
            // })
        </script>